#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–§–∏–Ω–∞–ª—å–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è MAS —Å–∏—Å—Ç–µ–º—ã.
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª: –ø—Ä–æ–±–ª–µ–º—ã ‚Üí –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.
"""

import subprocess
import time

def print_header(title):
    print(f"\n{'='*80}")
    print(f"üéØ {title}")
    print(f"{'='*80}")

def print_section(title):
    print(f"\n{'‚îÄ'*60}")
    print(f"üìã {title}")
    print(f"{'‚îÄ'*60}")

def run_demo_command(cmd, description):
    print(f"\nüöÄ {description}")
    print(f"–ö–æ–º–∞–Ω–¥–∞: {cmd}")
    print("‚îÄ" * 40)
    
    result = subprocess.run(cmd, shell=True, capture_output=True, text=True, encoding='utf-8')
    print(result.stdout)
    if result.stderr:
        print(f"‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è: {result.stderr}")
    
    return result.returncode == 0

def main():
    print_header("–î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø MAS –°–ò–°–¢–ï–ú–´ –î–õ–Ø –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ì–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ë–ê–ì–û–í")
    
    print("""
üéØ –¶–ï–õ–¨: –ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É Multi-Agent System (MAS) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ 
   –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤ –≤ –∫–æ–¥–µ.

üìù –ê–†–•–ò–¢–ï–ö–¢–£–†–ê:
   ‚Ä¢ –ü–æ–¥—Ö–æ–¥ 1: –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (–ª–∏–Ω–µ–π–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)
   ‚Ä¢ –ü–æ–¥—Ö–æ–¥ 2: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —à–∏–Ω–∞ (–∞–≥–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
   
üîß –ö–û–ú–ü–û–ù–ï–ù–¢–´:
   ‚Ä¢ LLM-–∏–º–∏—Ç–∞—Ü–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞
   ‚Ä¢ –°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
   ‚Ä¢ –ú–µ—Ö–∞–Ω–∏–∑–º —Ä–µ–≤—å—é –∏ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
   ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—á–µ–π
   ‚Ä¢ –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤
    """)
    
    # –®–∞–≥ 1: –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –±–∞–≥–∏
    print_section("–®–ê–ì 1: –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –†–ï–ê–õ–¨–ù–´–• –ë–ê–ì–û–í")
    success = run_demo_command("python demo_bugs.py", "–ü–æ–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –±–∞–≥–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç")
    
    if not success:
        print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é –±–∞–≥–æ–≤")
        return
    
    input("\n‚è∏Ô∏è  –ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...")
    
    # –®–∞–≥ 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—á–µ–π
    print_section("–®–ê–ì 2: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –°–ò–°–¢–ï–ú–´ –ü–ê–¢–ß–ò–ù–ì–ê")
    success = run_demo_command("python test_patches.py", "–ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –Ω–∞—à–∏ –ø–∞—Ç—á–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")
    
    if not success:
        print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ç—á–∏")
        return
        
    input("\n‚è∏Ô∏è  –ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...")
    
    # –®–∞–≥ 3: MAS —Å–∏—Å—Ç–µ–º–∞ - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
    print_section("–®–ê–ì 3: –°–ò–ù–•–†–û–ù–ù–´–ô –ü–û–î–•–û–î MAS")
    success = run_demo_command("python main.py --approach sync", 
                              "–ó–∞–ø—É—Å–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –Ω–∞ –≤—Å–µ—Ö –∫–µ–π—Å–∞—Ö")
    
    input("\n‚è∏Ô∏è  –ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...")
    
    # –®–∞–≥ 4: MAS —Å–∏—Å—Ç–µ–º–∞ - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
    print_section("–®–ê–ì 4: –ê–°–ò–ù–•–†–û–ù–ù–´–ô –ü–û–î–•–û–î MAS")
    success = run_demo_command("python main.py --approach async", 
                              "–ó–∞–ø—É—Å–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∞–≥–µ–Ω—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã")
    
    input("\n‚è∏Ô∏è  –ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...")
    
    # –®–∞–≥ 5: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
    print_section("–®–ê–ì 5: –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê")
    success = run_demo_command("python main.py --approach async --parallel", 
                              "–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–µ–π—Å–æ–≤")
    
    input("\n‚è∏Ô∏è  –ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...")
    
    # –®–∞–≥ 6: –ü–æ–ª–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
    print_section("–®–ê–ì 6: –°–†–ê–í–ù–ï–ù–ò–ï –ü–û–î–•–û–î–û–í")
    success = run_demo_command("python main.py --approach both --save-results final_results.json", 
                              "–ü–æ–ª–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±–æ–∏—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤")
    
    # –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
    print_header("–ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï")
    print("""
‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–ò:

1. üêõ –†–ï–ê–õ–¨–ù–´–ï –ë–ê–ì–ò: –ü–æ–∫–∞–∑–∞–ª–∏ 5 —Ç–∏–ø–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ –≤ –∫–æ–¥–µ
   ‚Ä¢ –í—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –º–∞—Å—Å–∏–≤–∞
   ‚Ä¢ None-–æ–±—Ä–∞—â–µ–Ω–∏–µ 
   ‚Ä¢ –î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å
   ‚Ä¢ –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤
   ‚Ä¢ –ù–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

2. üîß –°–ò–°–¢–ï–ú–ê –ü–ê–¢–ß–ò–ù–ì–ê: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
   ‚Ä¢ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
   ‚Ä¢ –£–º–Ω–∞—è –∑–∞–º–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –∫–æ–¥–∞
   ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

3. üöÄ MAS –ü–û–î–•–û–î–´: –î–≤–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏—è
   ‚Ä¢ –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π: –ø—Ä–æ—Å—Ç–æ–π, –±—ã—Å—Ç—Ä—ã–π, –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π
   ‚Ä¢ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π: –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π, –≥–∏–±–∫–∏–π

4. üìä –ê–ù–ê–õ–ò–¢–ò–ö–ê: –î–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
   ‚Ä¢ –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   ‚Ä¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π
   ‚Ä¢ –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏
   ‚Ä¢ –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

üéØ –ü–†–ê–ö–¢–ò–ß–ï–°–ö–û–ï –ü–†–ò–ú–ï–ù–ï–ù–ò–ï:
   ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è code review
   ‚Ä¢ CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤
   ‚Ä¢ –û–±—É—á–∞—é—â–∏–µ —Å–∏—Å—Ç–µ–º—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
   ‚Ä¢ –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ –æ–±–ª–∞—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ª–∞–¥–∫–∏

üìÅ –§–ê–ô–õ–´ –†–ï–ó–£–õ–¨–¢–ê–¢–û–í:
   ‚Ä¢ final_results.json - –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   ‚Ä¢ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –ª–µ–≥–∫–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
   ‚Ä¢ –ì–æ—Ç–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–π –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
    """)
    
    print_header("–î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê –£–°–ü–ï–®–ù–û! üéâ")

if __name__ == "__main__":
    main()
